# servicemesh

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 3.0.0](https://img.shields.io/badge/AppVersion-3.0.0-informational?style=flat-square)

Helm chart for deploying a fully functional Red Hat OpenShift Service Mesh 3.0 base setup, including support for sidecar and ambient modes, and monitoring integration.

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| servicemesh.console.enabled | bool | `true` |  |
| servicemesh.istio.name | string | `"default"` |  |
| servicemesh.istio.updateStrategy | object | `{}` |  |
| servicemesh.istio.values | object | `{}` |  |
| servicemesh.istiocni.name | string | `"default"` |  |
| servicemesh.istiocni.values | object | `{}` |  |
| servicemesh.kiali.name | string | `"default"` |  |
| servicemesh.kiali.spec.external_services.prometheus.auth.type | string | `"bearer"` |  |
| servicemesh.kiali.spec.external_services.prometheus.auth.use_kiali_token | bool | `true` |  |
| servicemesh.kiali.spec.external_services.prometheus.thanos_proxy.enabled | bool | `true` |  |
| servicemesh.kiali.spec.external_services.prometheus.url | string | `"https://thanos-querier.openshift-monitoring.svc.cluster.local:9091"` |  |
| servicemesh.monitoring.enabled | bool | `true` |  |
| servicemesh.monitoring.podMonitorNamespaces | list | `[]` |  |
| servicemesh.ossmc.name | string | `"ossmconsole"` |  |
| servicemesh.ossmc.spec.version | string | `"default"` |  |
| servicemesh.peerauthentications | list | `[]` |  |
| servicemesh.profile | string | `""` |  |
| servicemesh.version | string | `"v1.24.3"` |  |
| servicemesh.ztunnel.enabled | bool | `false` |  |
| servicemesh.ztunnel.name | string | `"default"` |  |
| servicemesh.ztunnel.values | object | `{}` |  |

## Using Service Mesh 3 in ambient mode

Below is a minimal example of values needed to run this chart
in ambient mode. (Like with the regular deployment of this chart,
it is assumed that you have the Red Hat OpenShift Service Mesh 3.0
operator installed on your cluster.)

```yaml
servicemesh:
  profile: ambient

  istio:
    values:
      trustedZtunnelNamespace: istio-system

  ztunnel:
    enabled: true

  monitoring:
    podMonitorNamespaces:
      - istio-system
```

You can opt-in an entire namespace or at a more granular deployment/pod/service/etc.
level by giving the appropriate Kubernetes resource the label `istio.io/dataplane-mode: ambient`.

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
